$(document).ready(function(){var reString=/^[a-z-\.\'\,Ã€ÃÃ‚ÃƒÃ„Ã…Ã Ã¡Ã¢Ã£Ã¤Ã¥ÃŸÃ’Ã“Ã”Ã•Ã•Ã–Ã˜Ã²Ã³Ã´ÃµÃ¶Ã¸ÃˆÃ‰ÃŠÃ‹Ã¨Ã©ÃªÃ«Ã°Ã‡Ã§ÃÃŒÃÃŽÃÃ¬Ã­Ã®Ã¯Ã™ÃšÃ›ÃœÃ¹ÃºÃ»Ã¼Ã‘Ã±Å Å¡Å¸Ã¿Ã½Å½Å¾ ]{1,255}$/i;var reEmail=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;$('label[data-toggle="tooltip"]').tooltip();inputRealTime(reString,reEmail);initError()});function RemoveAccents(str){var accents="Ã€ÃÃ‚ÃƒÃ„Ã…Ã Ã¡Ã¢Ã£Ã¤Ã¥Ã’Ã“Ã”Ã•Ã•Ã–Ã˜Ã²Ã³Ã´ÃµÃ¶Ã¸ÃˆÃ‰ÃŠÃ‹Ã¨Ã©ÃªÃ«Ã°Ã‡Ã§ÃÃŒÃÃŽÃÃ¬Ã­Ã®Ã¯Ã™ÃšÃ›ÃœÃ¹ÃºÃ»Ã¼Ã‘Ã±Å Å¡Å¸Ã¿Ã½Å½Å¾";var accentsOut="AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz";str=str.toString().split("");var strLen=str.length;var i,x;for(i=0;i<strLen;i++){if((x=accents.indexOf(str[i]))!==-1){str[i]=accentsOut[x]}}return str.join("")}function inputRealTime(reString,reEmail){$("#new_ask_applicantFirstname").change(function(){var withoutAccent=RemoveAccents($("#new_ask_applicantFirstname").val());$("#new_ask_applicantFirstname").val(withoutAccent);var input=$("#new_ask_applicantFirstname");var firstname=input.val();var is_firstname=reString.test(firstname);if(is_firstname){input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-ok" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-error").addClass("has-success");$(".myerror").css("display","none")}else{input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-success").addClass("has-error")}});$("#new_ask_applicantLastname").change(function(){var withoutAccent=RemoveAccents($("#new_ask_applicantLastname").val());$("#new_ask_applicantLastname").val(withoutAccent);var input=$("#new_ask_applicantLastname");var lastname=input.val();var is_lastname=reString.test(lastname);if(is_lastname){input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-ok" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-error").addClass("has-success");$(".myerror").css("display","none")}else{input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-success").addClass("has-error")}});$("#new_ask_applicantEmail_first, #new_ask_applicantEmail_second").change(function(){var input=$("#new_ask_applicantEmail_first");var input2=$("#new_ask_applicantEmail_second");var is_emailval=input.val();var is_emailval2=input2.val();var is_email=reEmail.test(is_emailval);if(is_email&&is_emailval===is_emailval2){input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-ok" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-error").addClass("has-success");$(".myerror").css("display","none")}else{input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-success").addClass("has-error")}});$("#new_ask_applicantEmail_second").change(function(){var input=$("#new_ask_applicantEmail_second");var is_email=reEmail.test(input.val());if(is_email){input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-ok" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-error").addClass("has-success");$(".myerror").css("display","none")}else{input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-success").addClass("has-error")}})}function initError(){$(document).on("submit","#nouvelDemande",function(e){e.preventDefault();$("#new_ask_send").html('<i class="fa fa-spinner fa-spin"></i>');$("#new_ask_send").attr("disabled",true);$.each($('#nouvelDemande input[type="text"]'),function(key){var input=$($('#nouvelDemande input[type="text"]').get(key));input.parent().children("span").remove();input.parent().children("div").remove()});$.each($('#nouvelDemande input[type="email"]'),function(key){var input=$($('#nouvelDemande input[type="email"]').get(key));input.parent().children("span").remove();input.parent().children("div").remove()});$.ajax({method:$(this).attr("method"),url:$(this).attr("action"),data:$(this).serialize(),dataType:"json"}).done(function(data){if(data.valid===true&&data.captcha===true){$("#ndModal").modal("hide");$("#confirm-msg").show();if(data.created===true){var myemail=$("#new_ask_applicantEmail_first").val();$("#confirm-msg").removeClass("alert-danger");$("#confirm-msg").addClass("alert-success");$("#confirm-msg").text(data.message)}else{$("#confirm-msg").removeClass("alert-success");$("#confirm-msg").addClass("alert-danger");$("#confirm-msg").text(data.message)}document.getElementById("nouvelDemande").reset()}else{$.each(data.error,function(key,value){if(key==="applicantEmail"){key="applicantEmail][first"}var input='#nouvelDemande input[name="new_ask['+key+']"]';var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';err+='<div class="form-group has-error has-feedback myerror">'+value+"</div>";$(input).after(err);$(input).parent().addClass("has-error")});$("#new_ask_send").attr("disabled",false);$("#new_ask_send").html(label)}})})}
$(document).ready(function(){var reAppliId=/^[0-9]{13}$/i;myTooltipStatut();inputRealTimeStatut(reAppliId);initErrorStatutNumeroAppli()});function myTooltipStatut(){$('label[data-toggle="tooltip"]').tooltip()}function inputRealTimeStatut(reAppliId){$("#status_by_app_id_applicationNumber").change(function(){var input=$(this);var appliId=input.val();var is_appliId=reAppliId.test(appliId);if(appliId.length===13){input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-ok" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-error").addClass("has-success");$(".myerror").css("display","none")}else{input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-success").addClass("has-error")}})}function initErrorStatutNumeroAppli(){$(document).on("submit","#statusRequest",function(e){e.preventDefault();$("#status_by_app_id_send").html('<i class="fa fa-spinner fa-spin"></i>');$("#status_by_app_id_send").attr("disabled",true);$.each($('#statusRequest input[type="text"]'),function(key){var input=$($('#statusRequest input[type="text"]').get(key));input.parent().children("span").remove();input.parent().children("div").remove()});$.each($('#statusRequest input[type="email"]'),function(key){var input=$($('#statusRequest input[type="email"]').get(key));input.parent().children("span").remove();input.parent().children("div").remove()});$.ajax({method:$(this).attr("method"),url:$(this).attr("action"),data:$(this).serialize(),dataType:"json"}).done(function(data){if(data.valid===true){$("#sdModal").modal("hide");$("#confirm-msg").show();if(data.created===true){$("#confirm-msg").removeClass("alert-danger");$("#confirm-msg").removeClass("alert-success");$("#confirm-msg").addClass(data.class);$("#confirm-msg").text(data.message)}else{$("#confirm-msg").removeClass("alert-success");$("#confirm-msg").addClass("alert-danger");$("#confirm-msg").text(data.message)}document.getElementById("statusRequest").reset()}else{$.each(data.error,function(key,value){var input='#statusRequest input[name="status_by_app_id['+key+']"]';var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';err+='<div class="form-group has-error has-feedback myerror">'+value+"</div>";$(input).after(err);$(input).parent().addClass("has-error")});$("#status_by_app_id_send").attr("disabled",false);$("#status_by_app_id_send").html(label)}})})}
$(document).ready(function(){var reVisaNb=/^[a-zA-Z0-9]{1,13}$/i;myTooltipStatutVisa();inputRealTimeStatutVisa(reVisaNb);initErrorStatutNumeroVisa()});function myTooltipStatutVisa(){$('label[data-toggle="tooltip"]').tooltip()}function inputRealTimeStatutVisa(reVisaNb){$("#status_by_visa_number_visaNumber").change(function(){var input=$(this);var appliId=input.val();var is_appliId=reVisaNb.test(appliId);if(is_appliId){input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-ok" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-error").addClass("has-success")}else{input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-success").addClass("has-error")}})}function initErrorStatutNumeroVisa(){$(document).on("submit","#statusByVisaNum",function(e){e.preventDefault();$("#status_by_visa_number_send").html('<i class="fa fa-spinner fa-spin"></i>');$("#status_by_visa_number_send").attr("disabled",true);$.each($('#statusByVisaNum input[type="text"]'),function(key){var input=$($('#statusByVisaNum input[type="text"]').get(key));input.parent().children("span").remove();input.parent().children("div").remove()});$.each($('#statusByVisaNum input[type="email"]'),function(key){var input=$($('#statusByVisaNum input[type="email"]').get(key));input.parent().children("span").remove();input.parent().children("div").remove()});$.ajax({method:$(this).attr("method"),url:$(this).attr("action"),data:$(this).serialize(),dataType:"json"}).done(function(data){if(data.valid===true){$("#sdModal").modal("hide");$("#confirm-msg").show();if(data.created===true){$("#confirm-msg").removeClass("alert-danger");$("#confirm-msg").removeClass("alert-success");$("#confirm-msg").addClass(data.class);$("#confirm-msg").text(data.message)}else{$("#confirm-msg").removeClass("alert-success");$("#confirm-msg").addClass("alert-danger");$("#confirm-msg").text(data.message)}document.getElementById("statusByVisaNum").reset()}else{$.each(data.error,function(key,value){var input='#statusByVisaNum input[name="status_by_visa_number['+key+']"]';var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';err+='<div class="form-group has-error has-feedback myerror">'+value+"</div>";$(input).after(err);$(input).parent().addClass("has-error")});$("#status_by_visa_number_send").attr("disabled",false);$("#status_by_visa_number_send").html(label)}})})}
$(document).ready(function(){var reEmail=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;var rePassNb=/^[a-zA-Z0-9]{1,9}$/i;myTooltipStatusPassEmail();inputRealTimeStatusPassEmail(reEmail,rePassNb);initErrorStatusPassEmail()});function myTooltipStatusPassEmail(){$('label[data-toggle="tooltip"]').tooltip()}function inputRealTimeStatusPassEmail(reEmail,rePassNb){$("#status_by_email_pass_statusEmail").change(function(){var input=$(this);var is_email=reEmail.test(input.val());if(is_email){input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-ok" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-error").addClass("has-success")}else{input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-success").addClass("has-error")}});$("#status_by_email_pass_statusPassNumb").change(function(){var input=$(this);var appliId=input.val();var is_appliId=rePassNb.test(appliId);if(is_appliId){input.parent().children("span").remove();var err=$('<span class="form-control-feedback"><i class="glyphicon glyphicon-ok" aria-hidden="true"></i></span>');input.after(err);input.parent().removeClass("has-error").addClass("has-success")}else{input.parent().children("span").remove();var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';input.after(err);input.parent().removeClass("has-success").addClass("has-error")}})}function initErrorStatusPassEmail(){$(document).on("submit","#statusByEmailPass",function(e){e.preventDefault();$("#status_by_email_pass_send").html('<i class="fa fa-spinner fa-spin"></i>');$("#status_by_email_pass_send").attr("disabled",true);$.each($('#statusByEmailPass input[type="text"]'),function(key){var input=$($('#statusByEmailPass input[type="text"]').get(key));input.parent().children("span").remove();input.parent().children("div").remove()});$.each($('#statusByEmailPass input[type="email"]'),function(key){var input=$($('#statusByEmailPass input[type="email"]').get(key));input.parent().children("span").remove();input.parent().children("div").remove()});$.ajax({method:$(this).attr("method"),url:$(this).attr("action"),data:$(this).serialize(),dataType:"json"}).done(function(data){if(data.valid===true){$("#sdModal").modal("hide");$("#confirm-msg").show();if(data.created===true){$("#confirm-msg").removeClass("alert-danger");$("#confirm-msg").removeClass("alert-success");$("#confirm-msg").addClass(data.class);$("#confirm-msg").text(data.message)}else{$("#confirm-msg").removeClass("alert-success");$("#confirm-msg").addClass("alert-danger");$("#confirm-msg").text(data.message)}document.getElementById("statusByEmailPass").reset()}else{$.each(data.error,function(key,value){var input='#statusByEmailPass input[name="status_by_email_pass['+key+']"]';var err='<span class="form-control-feedback"><i class="glyphicon glyphicon-remove-sign" aria-hidden="true"></i></span>';err+='<div class="form-group has-error has-feedback myerror">'+value+"</div>";$(input).after(err);$(input).parent().addClass("has-error")});$("#status_by_email_pass_send").attr("disabled",false);$("#status_by_email_pass_send").html(label)}})})}
$(document).ready(function(){$("#confirm-msg").hide();$("#checkbox_id").click(function(){$("#applicantid").show();$("#visanumber").hide();$("#passport").hide()});$("#checkbox_visa").click(function(){$("#applicantid").hide();$("#visanumber").show();$("#passport").hide()});$("#checkbox_passport").click(function(){$("#applicantid").hide();$("#visanumber").hide();$("#passport").show()});$("input:radio:first").prop("checked",true).trigger("click")});
